<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>登録完了</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: Consolas, monospace;
}

/* 共通 */
.screen {
  position: absolute;
  width: 100%;
  height: 100%;
  display: none;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

/* ① 初期画面 */
#screen1 {
  background: black;
  color: white;
  text-align: center;
}

/* ② ログ画面 */
#screen2 {
  background: black;
  color: #00ff66;
}

/* ログ枠 */
.log-box {
  width: 70%;
  max-width: 900px;
  height: 65%;
  border: 1px solid #00ff66;
  padding: 16px;
  display: flex;
  flex-direction: column;
}

.log-header {
  font-size: 18px;
  margin-bottom: 8px;
}

.log-body {
  flex: 1;
  white-space: pre-line;
  font-size: 16px;
}

/* ③ 完了画面 */
#screen3 {
  background: red;
  color: white;
  text-align: center;
  animation: fade 5s linear infinite;
}

/* ④ 訓練説明 */
#screen4 {
  background: #f4f6f8;
  color: #333;
  font-family: "Segoe UI", sans-serif;
}

.box {
  width: 520px;
  background: #fff;
  border: 1px solid #ccc;
  padding: 24px;
}

@keyframes fade {
  0% { opacity: 0.3; }
  50% { opacity: 1; }
  100% { opacity: 0.3; }
}

.countdown {
  font-size: 56px;
  margin: 12px 0;
}

.info {
  font-size: 14px;
  margin-top: 12px;
  white-space: pre-line;
}
</style>
</head>

<body>

<!-- ① 登録完了画面 -->
<div id="screen1" class="screen">
  <div>登録完了しました。</div>
  <div class="countdown" id="countdown">3</div>
  <div>下記内容で登録します。<br>ご登録ありがとうございました。</div>
  <div class="info" id="info"></div>
</div>

<!-- ② ログ画面 -->
<div id="screen2" class="screen">
  <div class="log-box">
    <div class="log-header">Establishing secure connection...</div>
    <div class="log-body" id="log"></div>
  </div>
</div>

<!-- ③ 詐欺風完了 -->
<div id="screen3" class="screen">
  <h1>登録が完了しました</h1>
  <p>ご利用ありがとうございました。</p>
  <p>このまま画面を閉じてください。</p>
  <p style="font-size:12px;margin-top:12px;">
    ※ 自動的に処理が完了します
  </p>
</div>

<!-- ④ 訓練説明 -->
<div id="screen4" class="screen">
  <div class="box">
    <h2>これはセキュリティ訓練です</h2>
    <p>
      本画面は、標的型攻撃メールや偽サイトを想定した
      社内セキュリティ訓練用の演出です。
    </p>
    <ul>
      <li>「登録完了」「ありがとうございました」は詐欺で多用されます</li>
      <li>端末情報の表示は安心させるための演出です</li>
      <li>不審に感じたら速やかに管理者へ報告してください</li>
    </ul>
    <p style="font-size:12px;color:#777;margin-top:16px;">
      ※ 実際の登録・通信・情報送信は行われていません
    </p>
  </div>
</div>

<script>
/* ===== ランダムPC名 ===== */
const pcNames = [
  "DESKTOP-7A3K92",
  "PC-USER01",
  "OFFICE-PC12",
  "WIN-CLIENT09",
  "CORP-WS-21"
];
const pcName = pcNames[Math.floor(Math.random() * pcNames.length)];

/* ===== OS判定 ===== */
function getOS() {
  const ua = navigator.userAgent;
  if (ua.includes("Windows NT 10")) return "Windows 10 / 11";
  if (ua.includes("Mac")) return "macOS";
  if (ua.includes("Android")) return "Android";
  if (ua.includes("iPhone")) return "iOS";
  return "Unknown OS";
}

/* ===== IP生成 ===== */
function randomIP() {
  return "203.0.113." + Math.floor(Math.random() * (240 - 10 + 1) + 10);
}

/* ===== 情報表示 ===== */
document.getElementById("info").innerText =
  `PC名: ${pcName}
OS: ${getOS()}
ブラウザ: ${navigator.userAgent}
IPアドレス: ${randomIP()}`;

/* ===== カウントダウン ===== */
let c = 3;
const cd = setInterval(() => {
  c--;
  document.getElementById("countdown").innerText = c;
  if (c === 0) clearInterval(cd);
}, 1000);

/* ===== ログ ===== */
const logs = [
  "Connecting to server...",
  "Resolving host...",
  "Opening TCP socket...",
  "TLS handshake successful.",
  "Session established.",
  "Authenticating credentials...",
  "Validating request...",
  "Committing registration...",
  "Finalizing process..."
];

let i = 0;
const logEl = document.getElementById("log");

function pushLog() {
  if (i < logs.length) {
    logEl.innerText += logs[i] + "\n";
    i++;
  }
}

/* ===== 画面遷移 ===== */
screen1.style.display = "flex";

setTimeout(() => {
  screen1.style.display = "none";
  screen2.style.display = "flex";

  const timer = setInterval(pushLog, 500);

  setTimeout(() => {
    clearInterval(timer);
    screen2.style.display = "none";
    screen3.style.display = "flex";

    setTimeout(() => {
      screen3.style.display = "none";
      screen4.style.display = "flex";
    }, 5000);

  }, 7000);
}, 3000);
</script>

</body>
</html>
