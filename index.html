<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>セキュリティ訓練</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: Consolas, monospace;
}

/* 共通 */
.screen {
  position: absolute;
  width: 100%;
  height: 100%;
  display: none;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

/* ① 初期画面（黒） */
#screen1 {
  background: black;
  color: white;
}

/* ② ログ画面（黒・緑） */
#screen2 {
  background: black;
  color: #00ff66;
}

/* ログ枠 */
.log-box {
  width: 70%;
  max-width: 900px;
  height: 60%;
  border: 1px solid #00ff66;
  padding: 16px;
  display: flex;
  flex-direction: column;
}

/* 固定ヘッダ */
.log-header {
  font-size: 18px;
  margin-bottom: 8px;
}

/* ログ本文 */
.log-body {
  flex: 1;
  overflow: hidden;
  white-space: pre-line;
  font-size: 16px;
}

/* ③ 完了画面（赤） */
#screen3 {
  background: red;
  color: white;
  font-size: 26px;
  animation: fade 5s linear infinite;
}

/* ④ 訓練説明 */
#screen4 {
  background: #f4f6f8;
  color: #333;
  font-family: "Segoe UI", sans-serif;
}

.box {
  width: 520px;
  background: #fff;
  border: 1px solid #ccc;
  padding: 24px;
}

@keyframes fade {
  0% { opacity: 0.3; }
  50% { opacity: 1; }
  100% { opacity: 0.3; }
}

.countdown {
  font-size: 64px;
}

.small {
  font-size: 14px;
  margin-top: 10px;
}
</style>
</head>

<body>

<!-- ① 初期画面 -->
<div id="screen1" class="screen">
  <div>システムを確認しています</div>
  <div class="countdown" id="countdown">3</div>
  <div class="small" id="info"></div>
</div>

<!-- ② ログ画面 -->
<div id="screen2" class="screen">
  <div class="log-box">
    <div class="log-header">通信状況を確認中...</div>
    <div class="log-body" id="log"></div>
  </div>
</div>

<!-- ③ 完了画面 -->
<div id="screen3" class="screen">
  <div>自動的に処理が完了します</div>
</div>

<!-- ④ 訓練説明 -->
<div id="screen4" class="screen">
  <div class="box">
    <h2>これはセキュリティ訓練です</h2>
    <p>
      本画面は、標的型攻撃メールを想定した
      社内セキュリティ訓練の一環として表示されています。
    </p>
    <ul>
      <li>身に覚えのない完了画面は信用しない</li>
      <li>処理中・確認中の表示でも油断しない</li>
      <li>不審な場合は速やかに管理者へ報告</li>
    </ul>
    <p style="font-size:12px;color:#777;margin-top:16px;">
      ※ 実際の通信や情報送信は行われていません
    </p>
  </div>
</div>

<script>
/* ===== 情報生成 ===== */
function randomIP() {
  return "203.0.113." + Math.floor(Math.random() * (240 - 10 + 1) + 10);
}
const ip = randomIP();
const browser = navigator.userAgent;
const pc = location.hostname || "Unknown-PC";

/* ===== 初期表示 ===== */
screen1.style.display = "flex";
document.getElementById("info").innerText =
  `PC名: ${pc}\nブラウザ: ${browser}\n接続IP: ${ip}`;

/* ===== カウントダウン ===== */
let c = 3;
const cd = setInterval(() => {
  c--;
  document.getElementById("countdown").innerText = c;
  if (c === 0) clearInterval(cd);
}, 1000);

/* ===== ログ内容（5秒） ===== */
const logs = [
  `接続先 ${ip} に通信を開始`,
  "DNS解決を実行中",
  "セキュアチャネルを確立",
  "認証情報を確認",
  "ファイアウォール規則を照合",
  "システム情報を取得",
  "メモリ領域を解析",
  "暗号化データを復号",
  "通信内容を検証",
  "処理を確定"
];

let i = 0;
const logEl = document.getElementById("log");

function pushLog() {
  if (i < logs.length) {
    logEl.innerText += logs[i] + "\n";
    i++;
  }
}

/* ===== 画面遷移 ===== */
setTimeout(() => {
  screen1.style.display = "none";
  screen2.style.display = "flex";

  const logTimer = setInterval(pushLog, 500);

  setTimeout(() => {
    clearInterval(logTimer);
    screen2.style.display = "none";
    screen3.style.display = "flex";

    setTimeout(() => {
      screen3.style.display = "none";
      screen4.style.display = "flex";
    }, 5000);

  }, 5000);

}, 3000);
</script>

</body>
</html>
